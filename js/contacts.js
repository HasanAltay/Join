let contacts = [
  {
    letter: "A",
    names: ["Anna", "Alina"],
    lastNames: ["Dobai", "Numey"],
    phonenumbers: ["01599 12345678", "01599 12345679"],
    mail: ["anna_dobai@mail.de", "alina_numey@mail.de"],
  },
  {
    letter: "B",
    names: ["Bernd", "Berth"],
    lastNames: ["Dobai", "Numey"],
    phonenumbers: ["01599 12345678", "01599 12345679"],
    mail: ["bernd_dobai@mail.de", "berth_numey@mail.de"],
  },
  {
    letter: "C",
    names: ["Cora", "Connor"],
    lastNames: ["Dobai", "Numey"],
    phonenumbers: ["01599 12345678", "01599 12345679"],
    mail: ["cora_dobai@mail.de", "connor_numey@mail.de"],
  },
  {
    letter: "D",
    names: ["Daniel", "David"],
    lastNames: ["Dobai", "Numey"],
    phonenumbers: ["01599 12345678", "01599 12345679"],
    mail: ["daniel_dobai@mail.de", "david_numey@mail.de"],
  },
  {
    letter: "E",
    names: ["Emil", "Emily"],
    lastNames: ["Dobai", "Numey"],
    phonenumbers: ["01599 12345678", "01599 12345679"],
    mail: ["emil_dobai@mail.de", "emily_numey@mail.de"],
  },
  {
    letter: "F",
    names: ["Frank", "Fred"],
    lastNames: ["Dobai", "Numey"],
    phonenumbers: ["01599 12345678", "01599 12345679"],
    mail: ["frank_dobai@mail.de", "fred_numey@mail.de"],
  },
  {
    letter: "G",
    names: ["Georg", "Gustav"],
    lastNames: ["Dobai", "Numey"],
    phonenumbers: ["01599 12345678", "01599 12345679"],
    mail: ["georg_dobai@mail.de", "gustav_numey@mail.de"],
  },
  {
    letter: "H",
    names: ["Hans", "Houston"],
    lastNames: ["Dobai", "Numey"],
    phonenumbers: ["01599 12345678", "01599 12345679"],
    mail: ["hans_dobai@mail.de", "houston_numey@mail.de"],
  },
  {
    letter: "I",
    names: ["Ines", "Ingo"],
    lastNames: ["Dobai", "Numey"],
    phonenumbers: ["01599 12345678", "01599 12345679"],
    mail: ["ines_dobai@mail.de", "ingo_numey@mail.de"],
  },
  {
    letter: "J",
    names: ["Josef", "Johanna"],
    lastNames: ["Dobai", "Numey"],
    phonenumbers: ["01599 12345678", "01599 12345679"],
    mail: ["josef_dobai@mail.de", "johanna_numey@mail.de"],
  },
  {
    letter: "K",
    names: ["Kevin", "Klara"],
    lastNames: ["Dobai", "Numey"],
    phonenumbers: ["01599 12345678", "01599 12345679"],
    mail: ["kevin_dobai@mail.de", "klara_numey@mail.de"],
  },
  {
    letter: "L",
    names: ["Lars", "Laura"],
    lastNames: ["Dobai", "Numey"],
    phonenumbers: ["01599 12345678", "01599 12345679"],
    mail: ["lars_dobai@mail.de", "laura_numey@mail.de"],
  },
  {
    letter: "M",
    names: ["Max", "Mara"],
    lastNames: ["Dobai", "Numey"],
    phonenumbers: ["01599 12345678", "01599 12345679"],
    mail: ["max_dobai@mail.de", "mara_numey@mail.de"],
  },
  {
    letter: "N",
    names: ["Nala", "Norbert"],
    lastNames: ["Dobai", "Numey"],
    phonenumbers: ["01599 12345678", "01599 12345679"],
    mail: ["nala_dobai@mail.de", "norbert_numey@mail.de"],
  },
  {
    letter: "O",
    names: ["Olaf", "Oskar"],
    lastNames: ["Dobai", "Numey"],
    phonenumbers: ["01599 12345678", "01599 12345679"],
    mail: ["olaf_dobai@mail.de", "oskar_numey@mail.de"],
  },
  {
    letter: "P",
    names: ["Paul", "Philipp"],
    lastNames: ["Dobai", "Numey"],
    phonenumbers: ["01599 12345678", "01599 12345679"],
    mail: ["paul_dobai@mail.de", "philipp_numey@mail.de"],
  },
  {
    letter: "Q",
    names: ["Quatsch", "Qualle"],
    lastNames: ["Dobai", "Numey"],
    phonenumbers: ["01599 12345678", "01599 12345679"],
    mail: ["quatsch_dobai@mail.de", "qualle_numey@mail.de"],
  },
  {
    letter: "R",
    names: ["Richard", "Rebekka"],
    lastNames: ["Dobai", "Numey"],
    phonenumbers: ["01599 12345678", "01599 12345679"],
    mail: ["richard_dobai@mail.de", "rebekka_numey@mail.de"],
  },
  {
    letter: "S",
    names: ["Simon", "Susi"],
    lastNames: ["Dobai", "Numey"],
    phonenumbers: ["01599 12345678", "01599 12345679"],
    mail: ["simon_dobai@mail.de", "susi_numey@mail.de"],
  },
  {
    letter: "T",
    names: ["Theodor", "Thomas"],
    lastNames: ["Dobai", "Numey"],
    phonenumbers: ["01599 12345678", "01599 12345679"],
    mail: ["theodor_dobai@mail.de", "thomas_numey@mail.de"],
  },
  {
    letter: "U",
    names: ["Ulrich", "Ulla"],
    lastNames: ["Dobai", "Numey"],
    phonenumbers: ["01599 12345678", "01599 12345679"],
    mail: ["ulrich_dobai@mail.de", "ulla_numey@mail.de"],
  },
  {
    letter: "V",
    names: ["Victor", "Verena"],
    lastNames: ["Dobai", "Numey"],
    phonenumbers: ["01599 12345678", "01599 12345679"],
    mail: ["victor_dobai@mail.de", "verena_numey@mail.de"],
  },
  {
    letter: "W",
    names: ["Wolfgang", "Walther"],
    lastNames: ["Dobai", "Numey"],
    phonenumbers: ["01599 12345678", "01599 12345679"],
    mail: ["wolfgang_dobai@mail.de", "walther_numey@mail.de"],
  },
  {
    letter: "X",
    names: ["Xavier", "Xianthi"],
    lastNames: ["Dobai", "Numey"],
    phonenumbers: ["01599 12345678", "01599 12345679"],
    mail: ["xavier_dobai@mail.de", "xianthi_numey@mail.de"],
  },
  {
    letter: "Y",
    names: ["Yake", "Yuri"],
    lastNames: ["Dobai", "Numey"],
    phonenumbers: ["01599 12345678", "01599 12345679"],
    mail: ["yake_dobai@mail.de", "yuri_numey@mail.de"],
  },
  {
    letter: "Z",
    names: ["Zara", "Zehanja"],
    lastNames: ["Dobai", "Numey"],
    phonenumbers: ["01599 12345678", "01599 12345679"],
    mail: ["zara@mail.de", "zehanja@mail.de"],
  },
];

var labelColors;

var currentLabelColor;

var last_id;

function initGlobalVariables() {
  labelColors = [
    BG_COLOR_SUPERNOVA,
    BG_COLOR_TABASCO,
    BG_COLOR_WEBORANGE,
    BG_COLOR_BLAZEORANGE,
    BG_COLOR_MALACHITE,
    BG_COLOR_APPLE,
    BG_COLOR_CYAN_AQUA,
    BG_COLOR_CERULEAN,
    BG_COLOR_BLUE_RIBBON,
    BG_COLOR_JAVA,
    BG_COLOR_PURPLE_PIZZAZZ,
    BG_COLOR_HELIOTROPE,
    BG_COLOR_ELECTRIC_VIOLET,
  ];

  currentLabelColor = 0;

  last_id = "XX";
}

function initContacts() {
  console.log("initContacts()");
  initGlobalVariables();

  for (let i = 0; i < contacts.length; i++) {
    const contact = contacts[i];
    insertContactToContactList(i, contact);
  }
}

function insertContactToContactList(i, contact) {
  console.log("insertContactToContactList");
  document.getElementById("contact-list").innerHTML += `
  <div id="${contact["letter"]}">
    <span id="label-${contact["letter"]} " class="con_alphabeticHints">${contact["letter"]}</span>
  </div>`;

  for (let i = 0; i < contact["names"].length; i++) {
    const element = contact["names"][i];
    const element2 = contact["lastNames"][i];
    const element3 = contact["mail"][i];
    const fName = element.charAt(0);
    const lName = element2.charAt(0);

    if (currentLabelColor >= labelColors.length) {
      currentLabelColor = 0;
    }

    const bgColor = labelColors[currentLabelColor];
    currentLabelColor++;
    let given_id = `${contact["letter"]}-${i}`;

    document.getElementById(
      `${contact["letter"]}`
    ).innerHTML += `<div id="${contact["letter"]}-${i}" class="con_contactListElement hoverEffect" onclick="contactClicked(id)">
      <span id="label-${contact["letter"]}-${i}" class="con_contactListElementLabel">${fName}${lName}</span>  
      <div>
        <span>${element} ${element2}</span>
        <span class="con_contactListElementEmail">${element3}</span>
      </div>
      
    </div>`;
    document.getElementById(
      `label-${contact["letter"]}-${i}`
    ).style.backgroundColor = bgColor;
  }
}

function newContact() {
  alert("You wanna add new contact?!");
}

function addNewContact(contactName, contactPhone, contactMail) {
  let newContactFirstName = contactName.split(" ")[0];
  let newContactLastName = contactName.split(" ")[1];
  let firstLetterFirstName = newContactFirstName.charAt(0);
  let firstLetterLastName = newContactLastName.charAt(0);
  let currentNumberOfContactsAt =
    contacts[firstLetterOfNewContact]["names"].length;

  contacts[firstLetterOfNewContact]["names"].push(newContactFirstName);
  contacts[firstLetterOfNewContact]["lastNames"].push(newContactFirstName);

  document.getElementById(
    `${firstLetterFirstName}`
  ).innerHTML += `<div id="${firstLetterOfNewContact}-${
    currentNumberOfContactsAt + 1
  }" class="con_contactListElement hoverEffect">
      <span class="con_contactListElementLabel">${firstLetterFirstName}${firstLetterLastName}</span>
      <div>
        <span>${newContactFirstName} ${newContactLastName}</span>
        <span class="con_contactListElementEmail">${element3}</span>
      </div>
      
    </div>`;

  // document.getElementById('')
  currentLabelColor++;
  let a = String();
}

function contactClicked(given_id) {

  console.log('contactClicked()');
  console.log(`last_id: ${last_id}`);
  console.log(`given_id: ${given_id}`);

  if (given_id != last_id) {
    document.getElementById(given_id).style.backgroundColor = "#2A3647";
    document.getElementById(given_id).style.color = "#FFFFFF";
    if (last_id != "XX") {
      document.getElementById(last_id).style.backgroundColor = "#FFFFFF";
      document.getElementById(last_id).style.color = "#000000";
    }
    last_id = given_id;
    showContactInformation(given_id);
  } else if (given_id == last_id) {
    document.getElementById(given_id).style.backgroundColor = "#FFFFFF";
    document.getElementById(given_id).style.color = "#000000";
    last_id = "XX";
  }
  // last_id = given_id;
  
}

function showContactInformation(given_id) {
  let currentContact = Number(given_id.split("-")[1]);
  let searchLetter = given_id.split("-")[0];
  
  let element = [];
  for (let index = 0; index < contacts.length; index++) {
    element.push(contacts[index]["letter"]);
  }

  let contactIndex = element.indexOf(searchLetter, 0);

  console.log(`currentContact: ${currentContact}`);
  // console.log(`letterIndex: ${letterIndex}`);
  // console.log(`contacts.length: ${contacts.length}`);
  console.log(`contactIndex: ${contactIndex}`);

  let chosenContactsName = contacts[contactIndex]["names"][currentContact];
  let chosenContactsLastName = contacts[contactIndex]["lastNames"][currentContact];
  let firstLetterFirstName = chosenContactsName.charAt(0);
  let firstLetterLastName = chosenContactsLastName.charAt(0);
  console.log(`You selected contact ${chosenContactsName} ${chosenContactsLastName }`);

  document.getElementById('label-big-and-name').innerHTML = /*html*/`
  <span id="big-label" class="con_bigLabel">${firstLetterFirstName}${firstLetterLastName}</span>
  <span id="first-name-last-name" class="con_firstNameLastName">${chosenContactsName} ${chosenContactsLastName}</span>`;


  // Get background color of label inside contact list
  // ${contact["letter"]}-${i}
  let label_Id = `label-${firstLetterFirstName}-${currentContact}`;
  let bgColorLabel = document.getElementById(label_Id).style.backgroundColor;

  document.getElementById('big-label').style.backgroundColor = bgColorLabel;
  document.getElementById('edit-container').innerHTML = /*html*/`
  <div>blaaaaaaa</div>
  <div style="display: flex;">
    <img src="./img/edit-2-32.png">
    <span>Edit Contact</span>
  </div>
  `;
  document.getElementById('mail-and-phone-container').innerHTML = /*html*/`
  <h3>Email:</h3>
  <span>lala@mail.de</span>
  <h3>Phone:</h3>
  <span>+49 171 999999</span>`;
}
